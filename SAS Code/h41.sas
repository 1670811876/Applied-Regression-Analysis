*9,2;
data cement;
input y x1-x4;
datalines;
78.5	7	26	6	60
74.3	1	29	15	52
104.3	11	56	8	20
87.6	11	31	8	47
95.9	7	52	6	33
109.2	11	55	9	22
102.7	3	71	17	6
72.5	1	31	22	44
93.1	2	54	18	22
115.9	21	47	4	26
83.8	1	40	23	34
113.3	11	66	9	12
109.4	10	68	8	12
;
run;
*1;
proc corr;
var x1-x4;
run;
*2;
proc reg;
model y=x1-x4/vif;
run;
*3?4;
proc reg data=cement;
model y=x1-x4/collin vif;
run;
*9.3;

*9.4;
proc reg data=cement;
model y=x1-x4/noint collin;
run;

data b;
set cement;
run;
proc standard data=b mean=0 out=c;
var x1-x4;
run;
proc reg data=c;
model y=x1-x4/collin;
run;



proc iml;
a = {7	26	6	60,1	29	15	52,
11	56	8	20,11	31	8	47,
7	52	6	33,11	55	9	22,
3	71	17	6,1	31	22	44,
2	54	18	22,21	47	4	26,
1	40	23	34,11	66	9	12,
10	68	8	12 } ;
b={7	1	11	11	7	11	3	1	2	21	1	11	10,
26	29	56	31	52	55	71	31	54	47	40	66	68,
6	15	8	8	6	9	17	22	18	4	23	9	8,
60	52	20	47	33	22	6	44	22	26	34	12	12};
c=b*a;
eigvals = eigval(c) ;
eigvecs = eigvec(c) ;
print c eigvals eigvecs ;
QUIT;
*10;
data foot;
input y x1-x9;
datalines;
10	2113	1985	38.9	64.7	4	868	59.7	2205	1917
11	2003	2855	38.8	61.3	3	615	55	2096	1575
11	2957	1737	40.1	60	14	914	65.6	1847	2175
13	2285	2905	41.6	45.3	-4	957	61.4	1903	2476
10	2971	1666	39.2	53.8	15	836	66.1	1457	1866
11	2309	2927	39.7	74.1	8	786	61	1848	2339
10	2528	2341	38.1	65.4	12	754	66.1	1564	2092
11	2147	2737	37	78.3	-1	761	58	1821	1909
4	1689	1414	42.1	47.6	-3	714	57	2577	2001
2	2566	1838	42.3	54.2	-1	797	58.9	2476	2254
7	2363	1480	37.3	48	19	984	67.5	1984	2217
10	2109	2191	39.5	51.9	6	700	57.2	1917	1758
9	2295	2229	37.4	53.6	-5	1037	58.8	1761	2032
9	1932	2204	35.1	71.4	3	986	58.6	1709	2025
6	2213	2140	38.8	58.3	6	819	59.2	1901	1686
5	1722	1730	36.6	52.6	-19	791	54.4	2288	1835
5	1498	2072	35.3	59.3	-5	776	49.6	2072	1914
5	1873	2929	41.1	55.3	10	789	54.3	2861	2496
6	2118	2268	38.2	69.6	6	582	58.7	2411	2670
4	1775	1983	39.3	78.3	7	901	51.7	2289	2202
3	1904	1792	39.7	38.1	-9	734	61.9	2203	1988
3	1929	1606	39.7	68.8	-21	627	52.7	2592	2324
4	2080	1492	35.5	68.8	-8	722	57.8	2053	2550
10	2301	2835	35.3	74.1	2	683	59.7	1979	2110
6	2040	2416	38.7	50	0	576	54.9	2048	2628
8	2447	1638	39.9	57.1	-8	848	65.3	1786	1776
2	1416	2649	37.4	56.3	-22	684	43.8	2876	2524
0	1503	1503	39.3	47	-9	875	53.5	2560	2241
;
run;
proc reg ;
model y=x1-x9/selection=forward sle=0.1;
run;
proc reg ;
model y=x1-x9/selection=backward;
run;
proc reg ;
model y=x1-x9/selection=stepwise;
run;
proc reg data=foot;
model y=x1 x2 x4 x7-x9/adjrsq mse cp;
run;

*13;
data air;
input obs x y;
datalines ;
1	400	0
2	220	1
3	490	0
4	210	1
5	500	0
6	270	0
7	200	1
8	470	0
9	480	0
10	310	1
11	240	1
12	490	0
13	420	0
14	330	1
15	280	1
16	210	1
17	300	1
18	470	1
19	230	0
20	430	0
21	460	0
22	220	1
23	250	1
24	200	1
25	390	0
;
run;
proc logistic ;
model y=x/link=logit;
run;
*13.4;
data drink;
input x n r y;
datalines;
5	500	100	-0.602059991
7	500	122	-0.491131969
9	500	147	-0.380457371
11	500	176	-0.265032342
13	500	211	-0.136615387
15	500	244	-0.020850139
17	500	277	0.094174906
19	500	310	0.212608093
21	500	343	0.339394468
23	500	372	0.46333297
25	500	391	0.554750259
;
run;
proc reg data=drink;
model y=x;
run;
data b;
input x y1 y2;
datalines;
5	100	176.072943
7	122	189.7206846
9	147	203.7608579
11	176	218.1096804
13	211	232.6753131
15	244	247.3600981
17	277	262.0631247
19	310	276.6829803
21	343	291.1205316
23	372	305.2815742
25	391	319.0792021

;
run;
proc sgplot data=b;
series x=x y=y1;
series x=x y=y2;
run;



data a;
input x f y ;
datalines;
5	100	1
5	400	0
7	378	0
7	122	1
9	353	0
9	147	1
11	324	0
11	176	1
13	289	0
13	211	1
15	256	0
15	244	1
17	223	0
17	277	1
19	190	0
19	310	1
21	157	0
21	343	1
23	128	0
23	372	1
25	391	1
25	109	0
;
run;
proc logistic ;
model y=x/link=logit scale=n aggregate ;
freq f;
run;
data b;
set a;
x1=x**2;
run;
proc logistic data=b ;
model y=x x1/link=logit scale=n aggregate cl;
freq f;
run;

data c;
input x y f;
datalines;
5	100	98.73361837
7	122	121.8444857
9	147	148.414906
11	176	178.1063922
13	211	210.2452706
15	244	243.8512403
17	277	277.7403017
19	310	310.684148
21	343	341.583011
23	372	369.6024396
25	391	394.2410436
;
run;
proc gplot data=c;
symbol1 i=j v=dot c=dark;
symbol2 i=j v=star c=green;
plot (y f)*x/overlay;
run;
